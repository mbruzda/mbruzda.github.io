<!DOCTYPE html>
<html>
    <head>
        <meta charset="utf-8">
        <title>Hello World</title>
        <link rel="manifest" href="/manifest.json">
        <link rel="stylesheet" href="css/style.css">
        <link rel="icon" href="favicon.ico" type="image/x-icon" />
        <link rel="apple-touch-icon" href="images/hello-icon-152.png">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <meta name="theme-color" content="white"/>
        <meta name="apple-mobile-web-app-capable" content="yes">
        <meta name="apple-mobile-web-app-status-bar-style" content="black">
        <meta name="apple-mobile-web-app-title" content="Hello World">
        <meta name="msapplication-TileImage" content="images/hello-icon-144.png">
        <meta name="msapplication-TileColor" content="#FFFFFF">
      </head>
    <body>
        <div>

            <button id = "find-me">Show my location</button><br/>
            <p id = "status"></p>
            <a id = "map-link" target="_blank"></a>
            <script>
                function geoFindMe() {

                const status = document.querySelector('#status');
                const mapLink = document.querySelector('#map-link');

                mapLink.href = '';
                mapLink.textContent = '';

                function success(position) {
                const latitude  = position.coords.latitude;
                const longitude = position.coords.longitude;

                status.textContent = '';
                mapLink.href = `https://www.openstreetmap.org/#map=18/${latitude}/${longitude}`;
                mapLink.textContent = `Latitude: ${latitude} °, Longitude: ${longitude} °`;
                }

                function error() {
                status.textContent = 'Unable to retrieve your location';
                }

                if(!navigator.geolocation) {
                status.textContent = 'Geolocation is not supported by your browser';
                } else {
                status.textContent = 'Locating…';
                navigator.geolocation.getCurrentPosition(success, error);
                }

                }

                document.querySelector('#find-me').addEventListener('click', geoFindMe);
            </script>
        </div>
        <div>
            <button id = "vibrate">vibrate</button><br/>
            <p id = "status"></p>
            <a id = "map-link" target="_blank"></a>
            <script>
                navigator.vibrate(200);
                console.log("kurwa")
            </script>
        </div>
    </body>
</html>